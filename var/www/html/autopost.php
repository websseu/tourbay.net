<?php
require_once( 'wp-load.php' );
require_once( ABSPATH . 'wp-admin/includes/image.php' );
require_once( ABSPATH . 'wp-admin/includes/file.php' );
require_once( ABSPATH . 'wp-admin/includes/media.php' );

// ========================
// λ„μ‹ λ©λ΅
// ========================
$cities = [
    "λ°λ¦¬" => "bali",
    "λ°λ‘¥" => "bandung",
    "λ°©μ½•" => "bangkok",
    "λ³΄λΌμΉ΄μ΄" => "boracay",
    "λ¶€μ‚°" => "busan",
    "μ„Έλ¶€" => "cebu",
    "μΉμ•™λ§μ΄" => "chiang",
    "λ‹¤λ‚­" => "da-nang",
    "ν›„μΏ μ¤μΉ΄" => "fukuoka",
    "ν•λ…Έμ΄" => "hanoi",
    "ν•«μ•Όμ΄" => "hat-yai",
    "νΈμΉλ―Ό" => "ho-chi-minh",
    "νΈμ΄μ•" => "hoi-an",
    "ν™μ½©" => "hong-kong",
    "ν›„μ•„ν" => "hua",
    "ν™”λ΅„" => "hualien",
    "μ΄ν¬" => "ipoh",
    "μμΉ΄λ¥΄νƒ€" => "jakarta",
    "μ μ£Όλ„" => "jeju-island",
    "μ΅°νΈλ°”λ£¨" => "johor-bahru",
    "κ°€μ¤μ" => "kaohsiung",
    "μ½”νƒ€ν‚¤λ‚λ°λ£¨" => "kota",
    "λ„λΌλΉ„" => "krabi",
    "μΏ μ•λΌλ£Έν‘Έλ¥΄" => "kuala",
    "μΏ μ•νƒ„" => "kuantan",
    "κµν† " => "kyoto",
    "λ§μΉ΄μ¤" => "macau",
    "λ§λΌμΉ΄" => "malacca",
    "λ§λ‹λΌ" => "manila",
    "λ‚κ³ μ•Ό" => "nagoya",
    "λ‚νΈλ‘" => "nha",
    "μ¤ν‚¤λ‚μ™€" => "okinawa",
    "μ¤μ‚¬μΉ΄" => "osaka",
    "ννƒ€μ•Ό" => "pattaya",
    "νλ‚­" => "penang",
    "ν‘ΈμΌ“" => "phuket",
    "μ‚Ών¬λ΅" => "sapporo",
    "μ„μΈ" => "seoul",
    "μƒν•μ΄" => "shanghai",
    "μ‹±κ°€ν¬λ¥΄" => "singapore",
    "μλΌλ°”μ•Ό" => "surabaya",
    "νƒ€μ΄μ¤‘" => "taichung",
    "νƒ€μ΄λ‚" => "tainan",
    "νƒ€μ΄λ² μ΄" => "taipei",
    "λ„μΏ„/λ™κ²½" => "tokyo",
    "μ΄λ€" => "yilan",
    "μ΅±μμΉ΄λ¥΄νƒ€" => "yogyakarta",
    "λ°λ" => "london",
    "νλ¦¬" => "paris"
];

// ========================
// λ„μ‹ λ¬΄μ‘μ„ μ„ νƒ (μµλ€ 10λ² μ‹λ„)
// ========================
$city_keys = array_keys($cities);
$max_attempts = 10;
$selected_city = null;
$data = null;

for ($i = 0; $i < $max_attempts; $i++) {
    $city_kr = $city_keys[array_rand($city_keys)];
    $city_en = $cities[$city_kr];

    $json_url = "https://websseu.github.io/data_hotel_korea/CityTop10/2025-09-24/{$city_en}.json";
    echo "[$i] μ‹λ„ β†’ {$city_kr} ({$city_en}) : {$json_url}<br>";

    $response = wp_remote_get($json_url);
    if ( is_wp_error($response) ) {
        echo "β JSON κ°€μ Έμ¤κΈ° μ‹¤ν¨: " . $response->get_error_message() . "<br>";
        continue;
    }

    $data = json_decode(wp_remote_retrieve_body($response), true);
    if ( !empty($data) ) {
        $selected_city = $city_kr;
        echo "β… λ°μ΄ν„° λ°κ²¬! β†’ {$selected_city}<br>";
        break;
    } else {
        echo "β οΈ λ°μ΄ν„° μ—†μ, λ‹¤λ¥Έ λ„μ‹λ΅ μ‹λ„...<br>";
    }
}

if (!$selected_city) {
    die("β 10λ² μ‹λ„ν–μ§€λ§ λ°μ΄ν„°κ°€ μλ” λ„μ‹λ¥Ό μ°Ύμ§€ λ»ν–μµλ‹λ‹¤.");
}

// ========================
// μ λ© μ¤νƒ€μΌ ν›„λ³΄
// ========================
$title_patterns = [
    // β”€β”€ λ„μ‹λ…μ΄ μ•μ— μ¤λ” ν¨ν„΄ β”€β”€
    "{$city_kr} κ°€μ„±λΉ„ νΈν…” TOP10",
    "{$city_kr} μ¶”μ² νΈν…” BEST10",
    "{$city_kr} μΈκΈ° νΈν…” TOP10",
    "{$city_kr} κ°€μ΅± μ—¬ν–‰ μ¶”μ² μ™μ† 10κ³³",
    "{$city_kr} μ»¤ν” μ—¬ν–‰μλ¥Ό μ„ν• νΈν…” BEST10",
    "{$city_kr} μ—¬ν–‰μλ“¤μ΄ μΆ‹μ•„ν•λ” νΈν…” TOP10",
    "{$city_kr} κ°€μ„±λΉ„ μµκ³  μ™μ† λ¨μ",
    "{$city_kr} μµμ‹  μΈκΈ° νΈν…” 10κ³³",
    "{$city_kr} μµκ³ μ ν›„κΈ° ν‰μ  νΈν…” TOP10",
    "{$city_kr} μ—¬ν–‰ ν•„μ μ™μ† BEST10",
    "κ°€μ„±λΉ„ μΆ‹μ€ {$city_kr} νΈν…” TOP10",
    "μ—¬ν–‰μ μ¶”μ² {$city_kr} νΈν…” BEST10",
    "νΈμ•ν• μ™μ†, λ°”λ΅ {$city_kr} νΈν…” TOP10",
    "λ­μ…”λ¦¬ μ—¬ν–‰μ μ¤‘μ‹¬, {$city_kr} νΈν…” μ¶”μ² 10κ³³",
    "μΈκΈ° κΈ‰μƒμΉ μ¤‘μΈ {$city_kr} μ™μ† BEST10",
    "μ΅°μ‹μ΄ λ§›μλ” {$city_kr} νΈν…” TOP10",
    "μμμ¥μ΄ λ©‹μ§„ {$city_kr} νΈν…” BEST10",
    "μ‡Όν•‘ν•κΈ° μΆ‹μ€ {$city_kr} νΈν…” μ¶”μ² 10κ³³",
    "λ·°κ°€ μμ {$city_kr} νΈν…” TOP10",
    "κµν†µ νΈλ¦¬ν• {$city_kr} μ™μ† BEST10",
    "κ°€μ΅± μ—¬ν–‰μλ¥Ό μ„ν• μ¶”μ² νΈν…” {$city_kr}",
    "μ €λ ΄ν•μ§€λ§ λ§μ΅±λ„ λ†’μ€ νΈν…” {$city_kr}",
    "λ·° λ§›μ§‘μΌλ΅ μ λ…ν• νΈν…” {$city_kr}",
    "νΈλ¦¬ν• μ„μΉμ μΈκΈ° μ™μ† {$city_kr}",
    "μ—°μΈκ³Ό λ– λ‚κΈ° μΆ‹μ€ λ΅λ§¨ν‹± νΈν…” {$city_kr}",
    "μ‹ νΌμ—¬ν–‰ μ¶”μ² λ­μ…”λ¦¬ νΈν…” {$city_kr}",
    "κ³µν•­ κ·Όμ² νΈλ¦¬ν• μ™μ† {$city_kr}",
    "μ•„μ΄μ™€ ν•¨κ»ν•κΈ° μΆ‹μ€ κ°€μ΅± νΈν…” {$city_kr}",
    "μ¶μ¥κ°μ΄ μ„ νΈν•λ” λΉ„μ¦λ‹μ¤ νΈν…” {$city_kr}",
    "μμ•½λ¥  λ†’μ€ μΈκΈ° μ™μ† {$city_kr}",
    "κ°€μ„±λΉ„λ΅ μ„ νƒν•λ” {$city_kr} μ™μ† TOP10",
    "νΈμ•ν•κ³  κΉ”λ”ν• {$city_kr} νΈν…” μ¶”μ² 10κ³³",
    "μ²­κ²°λ„ λ†’μ€ {$city_kr} μΈκΈ° νΈν…” BEST10",
    "νλ§μ΄ ν•„μ”ν• λ‹Ήμ‹ μ„ μ„ν• {$city_kr} νΈν…” TOP10",
    "μ•„μ΄ λ™λ° μ—¬ν–‰μ— μ ν•©ν• {$city_kr} μ™μ† BEST10",
    "μ΅°μ©ν•κ³  ν”„λΌμ΄λΉ—ν• {$city_kr} νΈν…” 10κ³³",
    "λ„μ‹¬ μ† νλ§ μ—¬ν–‰, {$city_kr} μ¶”μ² νΈν…” TOP10",
    "λ΅λ§¨ν‹± λ°μ΄νΈ μ—¬ν–‰, {$city_kr} μΈκΈ° νΈν…” BEST10",
    "λ­μ…”λ¦¬ κ²½ν—μ„ μ„ν• {$city_kr} 5μ„±κΈ‰ νΈν…” TOP10",
    "μμ—°κ²½κ΄€μ΄ μ•„λ¦„λ‹¤μ΄ {$city_kr} μ™μ† μ¶”μ² 10κ³³",
    "μ—¬ν–‰κ°μ΄ λ½‘μ€ μΈκΈ° νΈν…” λ¦¬μ¤νΈ {$city_kr}νΈ",
    "λ¦¬λ·° ν‰μ  λ†’μ€ μ¶”μ² νΈν…” {$city_kr} TOP10",
    "μ‡Όν•‘Β·κ΄€κ΄‘μ— μµμ ν™”λ μ™μ† {$city_kr} BEST10",
    "λ„μ‹ μ—¬ν–‰μ ν•„μ μ²΄ν¬μΈ νΈν…” {$city_kr}νΈ",
    "λΉ„μ¦λ‹μ¤μ™€ ν΄μ‹μ„ λ¨λ‘ μ±™κΈ΄ νΈν…” {$city_kr} TOP10",
    "νΈλ¦¬ν• κµν†µκ³Ό μµκ³ μ ν›„κΈ° {$city_kr} νΈν…” BEST10",
    "κ³µν•­κ³Ό κ°€κΉμ΄ νΈλ¦¬ν• μ™μ† {$city_kr} μ¶”μ² 10κ³³",
    "μ¬ν•΄ μΈκΈ° κΈ‰μƒμΉ νΈν…” {$city_kr} TOP10",
    "μ²« μ—¬ν–‰μλ¥Ό μ„ν• μ¶”μ² μ™μ† {$city_kr} BEST10",
    "κ°€μ΅±Β·μ»¤ν” λ¨λ‘ λ§μ΅±ν• νΈν…” {$city_kr} μ¶”μ² λ¦¬μ¤νΈ"
];


// λ¬΄μ‘μ„λ΅ μ λ© μ„ νƒ
$post_title = $title_patterns[array_rand($title_patterns)];

// ========================
// κΈ€ λ‚΄μ© λ§λ“¤κΈ°
// ========================
$content = "";
$summary_list = [];

// ========================
// μ†κ°κΈ€ λ¬Έμ¥ λ°°μ—΄
// ========================
$opening_sentences = [
    "μ•λ…•ν•μ„Έμ”! {$selected_city} νΈν…” TOP10μ„ μ„ μ •ν•΄ λ³΄μ•μµλ‹λ‹¤. π",
    "μ•λ…•ν•μ„Έμ”! μ΄λ² κΈ€μ—μ„λ” {$selected_city}μ μΈκΈ° νΈν…” TOP10μ„ μ†κ°ν•΄ λ“λ¦¬λ ¤κ³  ν•©λ‹λ‹¤.",
    "λ°κ°‘μµλ‹λ‹¤! μ—¬ν–‰μ„ κ³„ν μ¤‘μ΄μ‹  λ¶„λ“¤μ„ μ„ν•΄ {$selected_city} νΈν…” TOP10 λ¦¬μ¤νΈλ¥Ό μ¤€λΉ„ν–μµλ‹λ‹¤.",
    "μ•λ…•ν•μ„Έμ”! {$selected_city}μ—μ„ λ¨Έλ¬ΌκΈ° μΆ‹μ€ νΈν…”μ„ TOP10μΌλ΅ μ •λ¦¬ν•΄ λ³΄μ•μ–΄μ”.",
    "μ—¬ν–‰ μ¤€λΉ„ μ¤‘μ΄μ‹ κ°€μ”? μ΄λ² κΈ€μ—μ„λ” {$selected_city}μ μµκ³  ν‰μ  νΈν…” TOP10μ„ κΌ½μ•„ λ΄¤μµλ‹λ‹¤."
];

$explanation_sentences = [
    "ν‰μ κ³Ό μ΄μ© ν›„κΈ°, κ·Έλ¦¬κ³  λ‹¤μ–‘ν• μ—¬ν–‰ μ‚¬μ΄νΈμ λ­ν‚Ή λ°μ΄ν„°λ¥Ό μ°Έκ³ ν•μ—¬ κ°κ΄€μ μΌλ΅ νΈν…”μ„ μ„ μ •ν–μµλ‹λ‹¤.",
    "μλ§μ€ μ—¬ν–‰μλ“¤μ μ‹¤μ  ν›„κΈ°μ™€ ν‰μ μ„ λ°”νƒ•μΌλ΅ μ—„μ„ ν• κ²°κ³Όμ…λ‹λ‹¤.",
    "νΈν…”μ„ μ§μ ‘ λΉ„κµν•λ©° κ°€μ¥ μΈκΈ° μκ³  λ§μ΅±λ„κ°€ λ†’μ€ κ³³λ“¤λ§ λ¨μ•„ λ³΄μ•μµλ‹λ‹¤.",
    "ν›„κΈ° μμ™€ ν‰μ λΏ μ•„λ‹λΌ μ„μΉμ™€ νΈμμ„±κΉμ§€ κ³ λ ¤ν•΄ μ—¬ν–‰μλ“¤μ΄ μ„ νΈν•λ” νΈν…”μ„ κ³¨λμµλ‹λ‹¤.",
    "λ°μ΄ν„°μ™€ λ¦¬λ·°λ¥Ό ν•¨κ» λ¶„μ„ν•μ—¬ μ‹ λΆ°ν•  μ μλ” νΈν…” λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ—μµλ‹λ‹¤."
];

$intro_paragraphs = [
    "μ—¬ν–‰μ μ‹μ‘μ€ μ–Έμ λ‚ μ„¤λ μΌλ΅ κ°€λ“ μ°¨ μμµλ‹λ‹¤. {$selected_city}λ” κ·Έλ° μ„¤λ μ„ λ”μ± ν¬κ² λ§λ“¤μ–΄μ£Όλ” λ„μ‹μ£ . μ΄λ² κΈ€μ—μ„λ” {$selected_city}λ¥Ό λ°©λ¬Έν•  λ• κΌ­ λ¨Έλ¬Όλ¬μ•Ό ν•  νΈμ•ν•κ³  λ§¤λ ¥μ μΈ νΈν…”λ“¤μ„ μ†κ°ν•©λ‹λ‹¤.",
    "λ‚―μ„  λ„μ‹λ¥Ό μ—¬ν–‰ν•  λ• κ°€μ¥ μ¤‘μ”ν• κ²ƒμ€ νΈμ•ν• μ‰Όν„°μ…λ‹λ‹¤. {$selected_city}λ” λ‹¤μ–‘ν• λ§¤λ ¥μ„ κ°€μ§„ λ„μ‹μ§€λ§, μ¬λ°”λ¥Έ μ™μ†λ¥Ό μ„ νƒν•΄μ•Ό μ—¬ν–‰μ΄ λ”μ± μ¦κ²μµλ‹λ‹¤. μ¤λμ€ {$selected_city}μ—μ„ λ―Ώμ„ μ μλ” μ™μ†λ“¤μ„ λ¨μ•„λ΄¤μµλ‹λ‹¤.",
    "μ—¬ν–‰μ λ§μ΅±λ„λ¥Ό μΆμ°ν•λ” μ”μ† μ¤‘ ν•λ‚λ” μ™μ†μ…λ‹λ‹¤. {$selected_city}λ” μ „ν†µκ³Ό ν„λ€κ°€ κ³µμ΅΄ν•λ” λ„μ‹λ΅, μ–΄λ””μ— λ¨Έλ¬΄λλƒμ— λ”°λΌ μ—¬ν–‰μ κ²½ν—μ΄ λ‹¬λΌμ§‘λ‹λ‹¤. μ΄ κΈ€μ—μ„λ” μ—¬ν–‰μλ“¤μ΄ μ‚¬λ‘ν•λ” μµκ³ μ νΈν…”μ„ μ¶”μ²ν•©λ‹λ‹¤.",
    "μ²μ {$selected_city}λ¥Ό μ°Ύλ” λ¶„μ΄λΌλ©΄ μ–΄λ””μ— μ™μ†λ¥Ό μ •ν• μ§€ κ³ λ―Όμ΄ λ§μ„ κ²λ‹λ‹¤. κ±±μ •ν•μ§€ λ§μ„Έμ”. μ΄λ² κΈ€μ—μ„λ” μ—¬ν–‰ μ΄λ³΄μλ¶€ν„° κ²½ν—μκΉμ§€ λ¨λ‘ λ§μ΅±ν•  λ§ν• νΈν…”λ“¤μ„ μ—„μ„ ν•΄ μ†κ°ν•΄λ“λ¦½λ‹λ‹¤.",
    "{$selected_city}μ κ±°λ¦¬λ¥Ό κ±°λ‹λ‹¤ λ³΄λ©΄ λ„μ‹μ μƒλ™κ°κ³Ό λ”°λ»ν•¨μ„ λ™μ‹μ— λλ‚„ μ μμµλ‹λ‹¤. μ—¬ν–‰ μ¤‘ ν•λ£¨μ ν”Όλ΅λ¥Ό ν’€μ–΄μ¤„ μ™μ†λ” κ·Έλ§νΌ μ¤‘μ”ν•μ£ . μ—¬λ¬λ¶„μ μ™„λ²½ν• μ—¬ν–‰μ„ μ„ν•΄ κ°€μ¥ μ¶”μ²ν•  λ§ν• νΈν…”λ“¤μ„ λ¨μ•μµλ‹λ‹¤.",
    "μ—¬ν–‰μ„ κ³„νν•  λ• μ™μ† μ„ νƒμ€ κ°€μ¥ μ¤‘μ”ν• κ³ λ―Ό μ¤‘ ν•λ‚μ…λ‹λ‹¤. {$selected_city}λ” λ‹¤μ±„λ΅μ΄ λ§¤λ ¥μ„ κ°€μ§„ λ„μ‹μΈ λ§νΌ λ‹¤μ–‘ν• μ¤νƒ€μΌμ νΈν…”μ΄ μμµλ‹λ‹¤. μ΄ κΈ€μ„ ν†µν•΄ λ‹Ήμ‹ μ μ—¬ν–‰ μ¤νƒ€μΌμ— λ§λ” μ™μ†λ¥Ό μ°Ύμ•„λ³΄μ„Έμ”.",
    "νΈμ•ν• μ™μ†μ—μ„ μ‹μ‘λλ” μ—¬ν–‰μ€ λ”μ± νΉλ³„ν•©λ‹λ‹¤. {$selected_city}μ κ±°λ¦¬μ™€ ν’κ²½μ„ μ¦κΈ΄ λ’¤ λ”°λ»ν•κ² λ§μ•„μ¤„ νΈν…”μ„ μ°Ύκ³  μλ‹¤λ©΄, μ΄λ² κΈ€μ΄ λ„μ›€μ΄ λ  κ²ƒμ…λ‹λ‹¤.",
    "ν• λ² λ°©λ¬Έν•λ©΄ μκΈ° μ–΄λ ¤μ΄ λ§¤λ ¥μ„ μ§€λ‹ λ„μ‹, {$selected_city}. ν•μ§€λ§ μ λ€λ΅ λ μ™μ†λ¥Ό μ°Ύμ§€ λ»ν•λ‹¤λ©΄ κ·Έ λ§¤λ ¥μ„ μ¨μ „ν λλΌκΈ° μ–΄λ µμ£ . μ΄ κΈ€μ€ κ·Έλ° κ±±μ •μ„ λμ–΄λ“λ¦¬κΈ° μ„ν•΄ μ¤€λΉ„ν–μµλ‹λ‹¤.",
    "{$selected_city}λ” κ³„μ λ§λ‹¤ λ‹¤λ¥Έ λ§¤λ ¥μ„ λ³΄μ—¬μ£Όλ” μ—¬ν–‰μ§€μ…λ‹λ‹¤. κ·Έ λ§¤λ ¥μ„ μ¤λ΅―μ΄ μ¦κΈ°λ ¤λ©΄ νΈμ•ν• ν΄μ‹μ΄ ν•„μμ…λ‹λ‹¤. μ΄λ² μ¶”μ² νΈν…” λ¦¬μ¤νΈλ΅ μ—¬ν–‰μ μ§μ„ ν•μΈµ λ†’μ—¬λ³΄μ„Έμ”.",
    "λ‚―μ„  λ„μ‹μ—μ„ νΈμ•ν•¨μ„ μ°Ύλ” κ²ƒμ€ μƒκ°λ³΄λ‹¤ μ¤‘μ”ν•©λ‹λ‹¤. {$selected_city}μ μƒλ™κ° μλ” κ±°λ¦¬μ™€ μ΅°ν™”λ¥Ό μ΄λ£¨λ” νΈμ•ν• νΈν…”λ“¤μ„ μ΄λ² κΈ€μ—μ„ μ†κ°ν•©λ‹λ‹¤.",
    "μ—¬ν–‰μ§€μ μ²«μΈμƒμ€ κ³µν•­μ—μ„κ°€ μ•„λ‹λΌ μ™μ†μ—μ„ μ‹μ‘λ©λ‹λ‹¤. {$selected_city}μ νΈν…”λ“¤μ€ μ—¬ν–‰μλ“¤μ—κ² λ”°λ»ν• ν™μκ³Ό νΈμ•ν• ν΄μ‹μ„ μ„ μ‚¬ν•©λ‹λ‹¤. μ΄ κΈ€μ€ κ·Έλ° κ³³λ“¤μ„ μ•λ‚΄ν•©λ‹λ‹¤.",
    "{$selected_city}λ” μ¤λ λ¨Έλ¬Όμλ΅ λ” λ§μ€ λ§¤λ ¥μ„ λ°κ²¬ν•κ² λλ” λ„μ‹μ…λ‹λ‹¤. κ·Έλ° λ§νΌ νΈμ•ν•κ³  λ―Ώμ„ μ μλ” μ™μ† μ„ νƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤. μ΄λ² μ¶”μ² λ©λ΅μ΄ μ—¬λ¬λ¶„μ μ—¬ν–‰μ„ λ” ν’μ”λ΅­κ² λ§λ“¤μ–΄ μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "μ™μ†λ” λ‹¨μν• μ μλ¦¬ μ΄μƒμ μλ―Έλ¥Ό μ§€λ‹™λ‹λ‹¤. νΉν {$selected_city}μ²λΌ ν™κΈ°μ°¬ λ„μ‹λ¥Ό μ—¬ν–‰ν•  λ•λ” λ”μ± κ·Έλ ‡μµλ‹λ‹¤. μ΄ κΈ€μ—μ„ μ¶”μ²ν•λ” νΈν…”λ“¤μ€ μ—¬λ¬λ¶„μ ν•λ£¨λ¥Ό λ”μ± νΉλ³„ν•κ² λ§λ“¤μ–΄μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "μƒλ΅μ΄ λ„μ‹λ¥Ό μ—¬ν–‰ν•  λ•λ” ν•λ£¨μ λμ„ νΈμ•ν λ³΄λ‚Ό μ μλ” μ™μ†κ°€ κΌ­ ν•„μ”ν•©λ‹λ‹¤. {$selected_city}μ νΈν…” μ¤‘μ—μ„λ„ μ—¬ν–‰μλ“¤μ΄ κ·Ήμ°¬ν• κ³³λ“¤μ„ λ¨μ•„ μ†κ°ν•©λ‹λ‹¤.",
    "{$selected_city}λ” λ„κµ¬λ‚ ν• λ²μ―¤ κ°€λ³΄κ³  μ‹¶μ–΄ ν•λ” μΈκΈ° μ—¬ν–‰μ§€μ…λ‹λ‹¤. μ•„λ¦„λ‹¤μ΄ λ„μ‹μ ν’κ²½κ³Ό λ§›μλ” μμ‹λ„ μ¤‘μ”ν•μ§€λ§, μ™μ†κ°€ νΈν•΄μ•Ό μ§„μ •ν• μ—¬ν–‰μ μ¦κ±°μ›€μ„ λλ‚„ μ μμ£ .",
    "λ‚®μ—λ” ν™κΈ°μ°¬ κ±°λ¦¬ νƒλ°©, λ°¤μ—λ” νΈμ•ν• ν΄μ‹. μ΄κ²ƒμ΄μ•Όλ§λ΅ μ§„μ •ν• μ—¬ν–‰μ μ™„μ„±μ…λ‹λ‹¤. μ΄λ² κΈ€μ—μ„λ” {$selected_city}μ—μ„ κ·Έ λ‘ κ°€μ§€λ¥Ό λ¨λ‘ λ§μ΅±μ‹μΌ μ¤„ νΈν…”μ„ μ¶”μ²ν•©λ‹λ‹¤.",
    "{$selected_city}λ” λ°¤μ΄ λλ©΄ λ λ‹¤λ¥Έ μ–Όκµ΄μ„ λ³΄μ—¬μ£Όλ” λ„μ‹μ…λ‹λ‹¤. μ—¬ν–‰μ μ¶”μ–µμ„ λ”μ± λΉ›λ‚΄κΈ° μ„ν•΄μ„λ” μΆ‹μ€ μ™μ†κ°€ ν•„μ”ν•μ£ . μ΄ κΈ€μ΄ κ·Έ κΈΈμ΅μ΄κ°€ λ  κ²ƒμ…λ‹λ‹¤.",
    "μ²« μ—¬ν–‰μ„ μ¤€λΉ„ν•λ” μ„¤λ κ³Ό μ•½κ°„μ κΈ΄μ¥κ°, κ·Έ λ¨λ“  κ°μ •μ΄ {$selected_city}μ—μ„λ” νΉλ³„ν•΄μ§‘λ‹λ‹¤. κ·Έ μ„¤λ μ„ μ΄μ–΄κ° μ μλ” νΈν…”λ“¤μ„ μ¶”μ²ν•΄ λ“λ¦½λ‹λ‹¤.",
    "μ—¬ν–‰μ€ μ μ‹ λ¨Έλ¬΄λ” μ™μ†μ—μ„λ„ κ·Έ λ„μ‹μ μ΄μ•ΌκΈ°λ¥Ό λλ‚„ μ μμ„ λ• λ”μ± ν’μ”λ΅μ›μ§‘λ‹λ‹¤. {$selected_city}μ νΈν…”λ“¤μ€ κ·Έ μμ²΄λ΅λ„ ν•λ‚μ κ²½ν—μ΄ λ  κ²ƒμ…λ‹λ‹¤.",
    "{$selected_city}λ¥Ό μ λ€λ΅ λλΌκ³  μ‹¶λ‹¤λ©΄ μ—¬ν–‰ λ‚΄λ‚΄ νΈμ•ν•¨μ„ λ³΄μ¥ν•΄ μ¤„ νΈν…”μ΄ ν•„μ”ν•©λ‹λ‹¤. μ΄λ² κΈ€μ€ κ·Έλ° νΈν…”λ“¤μ„ μ°Ύλ” λ° λ„μ›€μ„ λ“λ¦¬κ³ μ ν•©λ‹λ‹¤.",
    "μ§§μ€ μ—¬ν–‰μΌμλ΅ μ™μ†μ μ„ νƒμ΄ λ” μ¤‘μ”ν•©λ‹λ‹¤. {$selected_city}μ μ§§μ§€λ§ κ°•λ ¬ν• μ¶”μ–µμ„ μ„ν•΄ μµκ³ μ νΈν…”λ“¤μ„ μ—„μ„ ν–μµλ‹λ‹¤.",
    "μ—¬ν–‰ μ¤‘ νΈν…”μ€ λ‹¨μν λ¨Έλ¬΄λ” κ³µκ°„μ΄ μ•„λ‹λΌ μ—¬ν–‰μ μΌλ¶€μ…λ‹λ‹¤. {$selected_city}μ μ—¬ν–‰μ„ λ”μ± νΉλ³„ν•κ² λ§λ“¤μ–΄μ¤„ μ™μ†λ“¤μ„ μ§€κΈ μ†κ°ν•©λ‹λ‹¤.",
    "μ™μ†λ¥Ό κ³ λ¥΄λ” μΌμ€ μ—¬ν–‰ κ³„νμ κ°€μ¥ μ¤‘μ”ν• λ¶€λ¶„ μ¤‘ ν•λ‚μ…λ‹λ‹¤. μ΄λ² κΈ€μ—μ„λ” {$selected_city}μ—μ„ μλ§μ€ μ—¬ν–‰μλ“¤μ—κ² μ‚¬λ‘λ°›μ€ νΈν…”λ“¤μ„ μ†κ°ν•©λ‹λ‹¤.",
    "μ—¬ν–‰μ€ μ¥μ†λ³΄λ‹¤λ„ κ·Έκ³³μ—μ„ κ²½ν—ν• μκ°„λ“¤μ΄ μ¤λ λ‚¨μµλ‹λ‹¤. {$selected_city}μ νΈν…”μ—μ„ λ³΄λ‚Έ νΈμ•ν• λ°¤λ“¤μ΄ μ—¬λ¬λ¶„μ μ¶”μ–µμ„ λ”μ± λ”°λ»ν•κ² ν•΄μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "{$selected_city}λ¥Ό μ—¬ν–‰ν•λ” μ΄μ λ” μ‚¬λλ§λ‹¤ λ‹¤λ¥΄μ§€λ§, νΈμ•ν• μ™μ†μ ν•„μ”μ„±μ€ λ¨λ‘ κ°™μµλ‹λ‹¤. μ΄λ² κΈ€μ΄ κ·Έ ν•΄λ‹µμ΄ λμ–΄μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "λ„μ‹μ λ°¤ ν’κ²½μ΄ μ•„λ¦„λ‹µκΈ°λ΅ μ λ…ν• {$selected_city}. κ·Έ λ§¤λ ¥μ„ μ λ€λ΅ λλΌλ ¤λ©΄ μ™μ† μ„ νƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤. μ΄ κΈ€μ—μ„ κ·Έ κ³ λ―Όμ„ λμ–΄λ“λ¦½λ‹λ‹¤.",
    "{$selected_city}μ λ§¤λ ¥μ€ λ‹¤μ±„λ΅­μ§€λ§, μ¬λ°”λ¥Έ μ™μ†κ°€ μ—†λ‹¤λ©΄ κ·Έ λ§¤λ ¥μ„ μ¨μ „ν μ¦κΈ°κΈ° μ–΄λ µμµλ‹λ‹¤. μ΄λ² κΈ€μ€ κ·Έλ° κ±±μ •μ„ λμ–΄λ“λ¦¬κΈ° μ„ν•΄ μ¤€λΉ„ν–μµλ‹λ‹¤.",
    "μ—¬ν–‰μ λ§μ§€λ§‰μ€ λ μ™μ†μ—μ„μ ν΄μ‹μΌλ΅ λ§λ¬΄λ¦¬λ©λ‹λ‹¤. {$selected_city}μ νΈμ•ν• νΈν…”μ—μ„ ν•λ£¨λ¥Ό λ§λ¬΄λ¦¬ν•λ‹¤λ©΄ μ—¬ν–‰μ κΈ°μ–µμ΄ λ”μ± λ”°λ»ν•΄μ§ κ²ƒμ…λ‹λ‹¤.",
    "{$selected_city}λ” λ‚®κ³Ό λ°¤ λ¨λ‘ λ§¤λ ¥μ μΈ λ„μ‹μ…λ‹λ‹¤. κ·Έ ν•λ£¨μ μ‹μ‘κ³Ό λμ„ μ±…μ„μ§ νΈν…”μ„ μ°Ύκ³  κ³„μ‹λ‹¤λ©΄, μ΄λ² μ¶”μ²μ΄ λ„μ›€μ΄ λ  κ²ƒμ…λ‹λ‹¤.",
    "μ—¬ν–‰μ€ μƒλ΅μ΄ κ²½ν—κ³Ό μµμ™ν•¨μ΄ μ–΄μ°λ¬μ§ λ• λ”μ± μ¦κ²μµλ‹λ‹¤. {$selected_city}μ νΈν…”μ—μ„ κ·Έλ° κ²½ν—μ„ λ„λ ¤λ³΄μ„Έμ”.",
    "λ‚―μ„  λ„μ‹μ μ²«λ‚ λ°¤μ€ μ΅°κΈ νΉλ³„ν•©λ‹λ‹¤. {$selected_city}μ λ”°λ»ν• νΈν…”λ“¤μ΄ κ·Έ νΉλ³„ν•¨μ„ λ”ν•΄μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "{$selected_city}λ” μ—¬ν–‰μμ κΈ°λ€λ¥Ό μ €λ²„λ¦¬μ§€ μ•λ” λ„μ‹μ…λ‹λ‹¤. κ·Έ κΈ°λ€λ¥Ό μ™„μ„±μ‹μΌμ¤„ μ™μ†λ“¤μ„ μ΄λ² κΈ€μ—μ„ λ§λ‚λ³΄μ„Έμ”.",
    "νΈμ•ν•¨κ³Ό λ¨ν—μ€ ν›λ¥­ν• μ—¬ν–‰μ λ‘ μ¶•μ…λ‹λ‹¤. {$selected_city}μ νΈν…”λ“¤μ€ κ·Έ κ· ν•μ„ μ λ§μ¶° μ—¬ν–‰μ„ λ”μ± μ¦κ²κ² λ§λ“¤μ–΄μ¤λ‹λ‹¤.",
    "λ°¤λ§λ‹¤ λ‹¤λ¥Έ μ–Όκµ΄μ„ λ³΄μ—¬μ£Όλ” {$selected_city}μ λ§¤λ ¥μ„ μ¦κΈ°λ ¤λ©΄ νΈν…”μ μ„μΉμ™€ λ¶„μ„κΈ°λ„ μ¤‘μ”ν•©λ‹λ‹¤. μ΄λ² κΈ€μ€ κ·Έλ° μ μ„ κ³ λ ¤ν•΄ μ¶”μ² λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ—μµλ‹λ‹¤.",
    "μ—¬ν–‰μ μ²« μΈμƒκ³Ό λ§μ§€λ§‰ μΈμƒ λ¨λ‘ μ™μ†μ—μ„ μ‹μ‘λκ³  λλ‚©λ‹λ‹¤. {$selected_city}μ μµκ³ μ νΈν…”μ—μ„ κ·Έ νΉλ³„ν• κΈ°μ–µμ„ λ§λ“¤μ–΄ λ³΄μ„Έμ”.",
    "λ‚―μ„  κ³³μ—μ„ ν•λ£¨λ¥Ό λ§λ¬΄λ¦¬ν•λ” μΌμ΄ μ„¤λ λ©΄μ„λ„ μ¤‘μ”ν•©λ‹λ‹¤. {$selected_city}μ λ―Ώμ„ μ μλ” νΈν…”λ“¤μ΄ μ—¬λ¬λ¶„μ μ—¬μ •μ„ νΈμ•ν μ§€μΌμ¤„ κ²ƒμ…λ‹λ‹¤.",
    "μ—¬ν–‰μ μ§μ€ νΈμ•ν• μ™μ†κ°€ λ³΄μ¥λ  λ• ν•μΈµ λ†’μ•„μ§‘λ‹λ‹¤. μ΄λ² κΈ€μ—μ„λ” {$selected_city}μ μ—¬ν–‰μ„ λ” νΉλ³„ν•κ² λ§λ“¤μ–΄μ¤„ νΈν…”μ„ μ¶”μ²ν•©λ‹λ‹¤.",
    "μ§§μ€ μ—¬ν–‰μ΄λΌλ„ μ λ€λ΅ λ μ™μ†μ— λ¨Έλ¬Έλ‹¤λ©΄ ν›¨μ”¬ λ” μ¤λ κΈ°μ–µμ— λ‚¨μµλ‹λ‹¤. {$selected_city}μ νΈν…”λ“¤μ΄ κ·Έλ° μ¶”μ–µμ„ λ§λ“¤μ–΄λ“λ¦½λ‹λ‹¤.",
    "μ—¬ν–‰ μ¤‘μ—λ” ν•λ£¨λ¥Ό λ§λ¬΄λ¦¬ν•λ” κ³µκ°„μ΄ λ”μ± μ¤‘μ”ν•©λ‹λ‹¤. {$selected_city}μ λ”°λ»ν•κ³  μ„Έλ ¨λ νΈν…”λ“¤μ„ μ¶”μ²ν•©λ‹λ‹¤.",
    "{$selected_city}μ ν’κ²½κ³Ό λ¬Έν™”λ¥Ό μ¦κΈ°λ‹¤ λ³΄λ©΄ ν•λ£¨κ°€ κΈμ„Έ μ§€λ‚κ°‘λ‹λ‹¤. κ·Έλ° ν•λ£¨λ¥Ό νΈμ•ν λ§λ¬΄λ¦¬ν•  νΈν…”μ΄ ν•„μ”ν•©λ‹λ‹¤. μ΄λ² κΈ€μ΄ λ„μ›€μ΄ λ  κ²ƒμ…λ‹λ‹¤.",
    "{$selected_city}λ” μ—¬ν–‰μλ“¤μ—κ² μ–Έμ λ‚ μƒλ΅μ΄ μκ°μ„ μ£Όλ” λ„μ‹μ…λ‹λ‹¤. κ·Έ μκ°μ„ μ΄μ–΄κ° μ μλ” νΈμ•ν• μ™μ†λ“¤μ„ μ΄λ²μ— μ†κ°ν•©λ‹λ‹¤.",
    "{$selected_city}μ λ§¤λ ¥μ„ μ λ€λ΅ λλΌλ ¤λ©΄ λ„μ‹ νƒν—κ³Ό ν΄μ‹μ„ κ· ν• μκ² μ¦κΈΈ μ μμ–΄μ•Ό ν•©λ‹λ‹¤. κ·Έ μ¤‘μ‹¬μ—λ” μΆ‹μ€ νΈν…”μ΄ μμµλ‹λ‹¤.",
    "{$selected_city}μ λ„μ‹¬ μ† νΈν…”μ€ μ—¬ν–‰μ νΈλ¦¬ν•¨κ³Ό ν΄μ‹μ„ λ™μ‹μ— μ κ³µν•©λ‹λ‹¤. μ΄λ² κΈ€μ€ κ·Έλ° νΈν…”λ“¤μ„ λ¨μ•„ μ†κ°ν•©λ‹λ‹¤.",
    "μ—¬ν–‰μ€ μ μ‹ λ¨Έλ¬΄λ” μ™μ†μ—μ„λ„ ν° μ°¨μ΄λ¥Ό λ§λ“­λ‹λ‹¤. {$selected_city}μ ν›λ¥­ν• νΈν…”μ—μ„ νΈμ•ν•¨κ³Ό μ¦κ±°μ›€μ„ λ¨λ‘ λ„λ ¤λ³΄μ„Έμ”.",
    "{$selected_city}μ κ±°λ¦¬λ¥Ό κ±·λ‹¤ λ³΄λ©΄ ν•λ£¨κ°€ κΈΈλ©΄μ„λ„ μ§§κ² λκ»΄μ§‘λ‹λ‹¤. κ·Έ ν•λ£¨λ¥Ό λ§λ¬΄λ¦¬ν•  λ”°λ»ν• νΈν…”μ΄ ν•„μ”ν•©λ‹λ‹¤.",
    "{$selected_city}μ λ°¤μ€ μ—¬ν–‰μλ“¤μ—κ² λ λ‹¤λ¥Έ μ¶”μ–µμ„ μ„ μ‚¬ν•©λ‹λ‹¤. κ·Έ μ¶”μ–µμ„ μ΄μ–΄κ° μ™μ†λ¥Ό μ°Ύκ³  μλ‹¤λ©΄ μ΄ κΈ€μ΄ λ„μ›€μ΄ λ  κ²ƒμ…λ‹λ‹¤.",
    "μ²μ {$selected_city}λ¥Ό λ°©λ¬Έν•λ” μ—¬ν–‰μμ—κ² μ™μ†λ” λ” ν° μλ―Έλ¥Ό κ°€μ§‘λ‹λ‹¤. μ΄λ² μ¶”μ² λ¦¬μ¤νΈκ°€ κ·Έ μλ―Έλ¥Ό μ™„μ„±μ‹μΌ μ¤„ κ²ƒμ…λ‹λ‹¤.",
    "μ—¬ν–‰μ ν•μ΄λΌμ΄νΈλ” μΆ…μΆ… μ™μ†μ—μ„ λ§λ“¤μ–΄μ§€κΈ°λ„ ν•©λ‹λ‹¤. {$selected_city}μ νΈν…”μ—μ„ νΉλ³„ν• ν•λ£¨λ¥Ό κ²½ν—ν•΄ λ³΄μ„Έμ”.",
    "{$selected_city}μ ν™κΈ°μ°¬ κ±°λ¦¬μ™€ κ³ μ¦λ„‰ν• ν’κ²½μ€ μ—¬ν–‰μ λ§¤λ ¥μ„ λ°°κ°€μ‹ν‚µλ‹λ‹¤. κ·Έλ° ν•λ£¨λ¥Ό λ§λ¬΄λ¦¬ν•  νΈμ•ν• νΈν…”λ“¤μ„ μ¶”μ²ν•©λ‹λ‹¤."
];

// λλ¤ λ¬Έμ¥
$opening = $opening_sentences[array_rand($opening_sentences)];
$explanation = $explanation_sentences[array_rand($explanation_sentences)];
$intro_body = $intro_paragraphs[array_rand($intro_paragraphs)];

$intro_text = $opening . " " . $explanation . " " . $intro_body;

$content .= '
    <div class="hotel-summary" style="margin-bottom:40px; padding:20px; background:#f9f9f9; border-radius:8px;">
        <h3>π '.$selected_city.' νΈν…” TOP10</h3>
        <p>'. nl2br($intro_text) .'</p>
    </div>
';

// μ¤‘κ°„κΈ€
foreach ($data as $index => $hotel) {
    $rank    = $index + 1;
    $name    = esc_html($hotel['name'] ?? '');
    $detail  = esc_html($hotel['detail'] ?? '');
    $url     = esc_url($hotel['hotel_url'] ?? '#');
    $gallery = $hotel['gallery'] ?? [];
    $area    = esc_html($hotel['area'] ?? '');
    $rating  = esc_html($hotel['rating'] ?? '');
    $reviews = esc_html($hotel['reviews'] ?? '');

    // λ§λ¬΄λ¦¬ μ©
    $rating_raw = $hotel['rating'] ?? '0';
    $rating_num = (float)preg_replace('/[^\d\.]/','',$rating_raw);

    $reviews_raw = $hotel['reviews'] ?? '0';
    $reviews_num = (int)preg_replace('/[^\d]/','',$reviews_raw);

    // λ§λ¬΄λ¦¬ μ”μ•½μ— λ„£μ„ λ°μ΄ν„° μ €μ¥
    $summary_list[] = [
        'name'    => $name,
        'url'     => $url,
        'rating'  => $rating_num,
        'reviews' => $reviews_num,
    ];

    // μ΄λ―Έμ§€ 5μ¥ λ³€μλ΅ μ¶”μ¶
    $main_image1 = !empty($gallery[0]) ? esc_url($gallery[0]) : '';
    $main_image2 = !empty($gallery[1]) ? esc_url($gallery[1]) : '';
    $main_image3 = !empty($gallery[2]) ? esc_url($gallery[2]) : '';
    $main_image4 = !empty($gallery[3]) ? esc_url($gallery[3]) : '';
    $main_image5 = !empty($gallery[4]) ? esc_url($gallery[4]) : '';

    // HTML μ¶λ ¥
    $content .= '
        <div class="hotel-box">
            <h2>'.$rank.'. '.$name.'</h2>

            <div>
                <a class="hotel-gallery" href="'.$url.'" target="_blank" rel="noopener">
                    <div class="main-image">
                        '.($main_image1 ? '<img src="'.$main_image1.'" alt="'.esc_attr($name).'"/>' : '<p>μ΄λ―Έμ§€κ°€ μ—†μµλ‹λ‹¤</p>').'
                    </div>
                    <div class="thumbs">
                        '.($main_image2 ? '<img src="'.$main_image2.'" alt="'.esc_attr($name).'"/>' : '').''.($main_image3 ? '<img src="'.$main_image3.'" alt="'.esc_attr($name).'"/>' : '').''.($main_image4 ? '<img src="'.$main_image4.'" alt="'.esc_attr($name).'"/>' : '').''.($main_image5 ? '<img src="'.$main_image5.'" alt="'.esc_attr($name).'"/>' : '').'
                    </div>
                </a>
            </div>

            <div class="hotel-info">
                '.($area ? '<p>π“ μ§€μ—­: <a href="'.$url.'" target="_blank" rel="noopener">'.$area.'</a></p>' : '').'
                '.($rating  ? '<p>β­ ν‰μ : '.$rating.'</p>' : '').'
                '.($reviews ? '<p>π’¬ λ¦¬λ·°: '.$reviews.'</p>' : '').'
            </div>

            <p class="hotel-detail">'.$detail.'</p>   

            <a class="hotel-btn" href="'.$url.'" target="_blank" rel="noopener">π’° κ°€κ²© ν™•μΈν•΄λ³΄κΈ°</a>
        </div>
    ';
}

// λ§λ¬΄λ¦¬ κΈ€
$content .= '
    <div class="hotel-summary-list">
        <h3>π† '.$post_title.' μ”μ•½ μ •λ¦¬</h3>
        <ol>';
            foreach ($summary_list as $item) {
                $rating_text = $item['rating'] ? ' ('.$item['rating'].'/'.$item['reviews'].')' : '';
       
                $content .= '
                    <li>
                        <strong><a href="'.$item['url'].'" target="_blank" rel="noopener">'.$item['name'].'</a></strong><span>(β­ '.number_format($item['rating'],1).' / '.number_format($item['reviews']).')</span>
                    </li>';
            }

            $content .= '
        </ol>
        <p>
            * μ„ νΈν…”λ“¤μ€ ν‰μ κ³Ό λ¦¬λ·° μλ¥Ό ν•¨κ» κ³ λ ¤ν• β¤οΈ μ¶”μ²μ§€μλ¥Ό κΈ°μ¤€μΌλ΅ μ„ μ •λμ—μµλ‹λ‹¤. π’° λ²„νΌμ„ λλ¬ μµμ‹  κ°€κ²©κ³Ό μμ•½ κ°€λ¥ μ—¬λ¶€λ¥Ό ν™•μΈν•μ„Έμ”.
        </p>
    </div>
';

// ========================
// μƒ κΈ€ μƒμ„±
// ========================
$new_post = array(
    'post_title'   => $post_title,
    'post_content' => $content,
    'post_status'  => 'publish',
    'post_author'  => 1,
    'post_type'    => 'post',
    'post_name'    => sanitize_title($post_title),
);

$post_id = wp_insert_post( $new_post );


if ( $post_id ) {
    echo "ν¬μ¤νΈ μ‘μ„±λ¨: {$post_id}<br>";

    // city μΉ΄ν…κ³ λ¦¬ IDκ°€ 31μ΄λΌ κ°€μ •
    wp_set_post_terms( $post_id, array(3), 'category' );
    echo "μΉ΄ν…κ³ λ¦¬ μ„¤μ • μ™„λ£<br>";

    // JSONμ—μ„ μ²« λ²μ§Έ νΈν…”μ μ΄λ―Έμ§€ μ¶”μ¶
    $random_index = rand(0, min(5, count($data) - 1));
    $first_image_url = $data[$random_index]['gallery'][0] ?? '';    

    if ( $first_image_url ) {
        $image_id = media_sideload_image( $first_image_url, $post_id, null, 'id' );

        if ( !is_wp_error( $image_id ) ) {
            set_post_thumbnail( $post_id, $image_id );
            echo "λ€ν‘ μ΄λ―Έμ§€ μ„¤μ • μ™„λ£ (μ²¨λ¶€νμΌ ID: {$image_id})";
        } else {
            echo "μ΄λ―Έμ§€ μ—…λ΅λ“ μ‹¤ν¨: " . $image_id->get_error_message();
        }
    } else {
        echo "λ€ν‘ μ΄λ―Έμ§€ URLμ΄ μ—†μµλ‹λ‹¤.";
    }
} else {
    echo "ν¬μ¤νΈ λ“±λ΅ μ‹¤ν¨";
}
?>
